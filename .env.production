# OpenCode Manager - Production Configuration
# Use this file as a template for production deployments (Easypanel, VPS, etc.)
# Copy to .env and customize as needed

# ============================================
# Backend Server Configuration
# ============================================
# PORT - Internal application port (5003 recommended for Easypanel/Docker)
PORT=5003

# HOST - Bind to all interfaces for Docker/VPS deployment
HOST=0.0.0.0

# CORS_ORIGIN - Set to your domain or * for all origins
# Examples: https://yourdomain.com, https://app.yourdomain.com, *
CORS_ORIGIN=*

# NODE_ENV - Always use 'production' in production
NODE_ENV=production

# LOG_LEVEL - Options: error, warn, info, debug
LOG_LEVEL=info

# ============================================
# OpenCode Server Configuration
# ============================================
# OPENCODE_SERVER_PORT - Internal port for OpenCode server (do not change)
OPENCODE_SERVER_PORT=5551

# OPENCODE_HOST - Internal host for OpenCode server
OPENCODE_HOST=127.0.0.1

# ============================================
# Database Configuration
# ============================================
# DATABASE_PATH - Path to SQLite database file (mounted volume in Docker)
DATABASE_PATH=/app/data/opencode.db

# ============================================
# Workspace Configuration
# ============================================
# WORKSPACE_PATH - Path to workspace directory (mounted volume in Docker)
WORKSPACE_PATH=/workspace

# ============================================
# Process Timeouts (milliseconds)
# ============================================
# Increase these values for slower VPS or high-latency networks
PROCESS_START_WAIT_MS=2000
PROCESS_VERIFY_WAIT_MS=1000
HEALTH_CHECK_INTERVAL_MS=5000
HEALTH_CHECK_TIMEOUT_MS=30000

# ============================================
# File Upload Limits (MB)
# ============================================
# Adjust based on your VPS storage and requirements
MAX_FILE_SIZE_MB=50
MAX_UPLOAD_SIZE_MB=50

# ============================================
# Sandbox Configuration
# ============================================
# TTL for temporary sandbox directories (hours)
SANDBOX_TTL_HOURS=24

# Cleanup interval for old sandboxes (minutes)
CLEANUP_INTERVAL_MINUTES=60

# ============================================
# Debugging
# ============================================
# DEBUG - Enable debug logging (not recommended for production)
DEBUG=false
